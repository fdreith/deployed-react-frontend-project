{"ast":null,"code":"export const setTasks = tasks => {\n  return {\n    type: \"SET_TASKS\",\n    tasks\n  };\n};\nexport const postTask = task => {\n  return dispatch => {\n    return fetch(\"http://localhost:3001/api/v1/tasks\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify(task)\n    }).then(resp => resp.json()).then(response => {\n      if (response.content) {\n        console.log(response.content); // alert(response.content)\n      } else {\n        dispatch(addTask(response.data));\n        history.goBack();\n      }\n    }); // .catch(alert) \n  };\n};\nexport const addTask = task => {\n  return {\n    type: \"ADD_TASK\",\n    task\n  };\n};\nexport const updateTask = (task, id, history) => {\n  return dispatch => {\n    return fetch(`http://localhost:3001/api/v1/tasks/${id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify(task)\n    }).then(resp => resp.json()).then(response => {\n      if (response.content) {\n        // alert(response.content)\n        console.log(response.content);\n      } else {\n        history.push('/');\n        response.data.attributes.completed === true ? dispatch(completedTask(response.data)) : dispatch(updateTaskStore(response.data));\n      }\n\n      return response.data;\n    }); // .catch(alert) \n  };\n};\nexport const updateTaskStore = task => {\n  return {\n    type: \"UPDATE_TASK\",\n    task\n  };\n};\nexport const completedTask = task => {\n  return {\n    type: \"COMPLETED_TASK\",\n    task\n  };\n};\nexport const deleteTask = (taskId, history) => {\n  return dispatch => {\n    return fetch(`http://localhost:3001/api/v1/tasks/${taskId}`, {\n      method: \"DELETE\"\n    }).then(resp => resp.json()).then(response => {\n      if (response.message) {\n        history.push('/');\n        alert(response.message);\n        dispatch(deleteTaskStore(taskId));\n      } else {\n        throw new Error(response.errors);\n      }\n    }).catch(alert);\n  };\n};\nexport const deleteTaskStore = taskId => {\n  return {\n    type: \"DELETE_TASK\",\n    taskId\n  };\n};","map":{"version":3,"sources":["/Users/francescadreith/development/projects/react-redux-project/react-project-frontend/src/actions/tasks.js"],"names":["setTasks","tasks","type","postTask","task","dispatch","fetch","method","headers","body","JSON","stringify","then","resp","json","response","content","console","log","addTask","data","history","goBack","updateTask","id","push","attributes","completed","completedTask","updateTaskStore","deleteTask","taskId","message","alert","deleteTaskStore","Error","errors","catch"],"mappings":"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","sourcesContent":["\nexport const setTasks = tasks => {\n  return {\n    type: \"SET_TASKS\",\n    tasks\n  }\n}\n\nexport const postTask = task => {\n  return dispatch => {\n    return fetch(\"http://localhost:3001/api/v1/tasks\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify(task)\n    })\n      .then(resp => resp.json())\n      .then(response => {\n        if (response.content) {\n          console.log(response.content)\n\n          // alert(response.content)\n        } else {\n          dispatch(addTask(response.data))\n          history.goBack()\n        }\n      })\n    // .catch(alert) \n  }\n}\n\nexport const addTask = task => {\n  return {\n    type: \"ADD_TASK\",\n    task\n  }\n}\n\nexport const updateTask = (task, id, history) => {\n  return dispatch => {\n    return fetch(`http://localhost:3001/api/v1/tasks/${id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify(task)\n    })\n      .then(resp => resp.json())\n      .then(response => {\n        if (response.content) {\n          // alert(response.content)\n          console.log(response.content)\n        } else {\n          history.push('/')\n          response.data.attributes.completed === true ?\n            dispatch(completedTask(response.data)) :\n            dispatch(updateTaskStore(response.data))\n        }\n        return response.data\n      })\n    // .catch(alert) \n  }\n}\n\nexport const updateTaskStore = task => {\n  return {\n    type: \"UPDATE_TASK\",\n    task\n  }\n}\n\nexport const completedTask = task => {\n  return {\n    type: \"COMPLETED_TASK\",\n    task\n  }\n}\n\nexport const deleteTask = (taskId, history) => {\n  return dispatch => {\n    return fetch(`http://localhost:3001/api/v1/tasks/${taskId}`, {\n      method: \"DELETE\",\n    })\n      .then(resp => resp.json())\n      .then(response => {\n        if (response.message) {\n          history.push('/')\n          alert(response.message)\n          dispatch(deleteTaskStore(taskId))\n        } else {\n          throw new Error(response.errors)\n        }\n      })\n      .catch(alert)\n  }\n}\n\nexport const deleteTaskStore = taskId => {\n  return {\n    type: \"DELETE_TASK\",\n    taskId\n  }\n}"]},"metadata":{},"sourceType":"module"}